\documentclass[titlepage, 12pt]{extarticle}
\usepackage[margin=1in]{geometry}
\usepackage{tikz}
\usepackage{tikz-uml}
\usepackage{fancyhdr}
\usepackage{lastpage}
\lhead{Inf2C: SE Coursework 1}
\rhead{s1703773 \& s1737075}
\cfoot{\thepage~/~\pageref{LastPage}}
\pagestyle{fancy}
\begin{document}
\title{{\bf Inf2C: Software Engineering \\Coursework 1 \vspace{2em}\\ Capturing requirements for an auction house system}}
\author{
\begin{tabular}{l  c}
  Michael Andrejczuk & s1703773 \\
  Dylan Joseph Thinnes & s1737075
\end{tabular}
}
\date{October 19, 2018}
\maketitle

\tableofcontents
\newpage

\section{Introduction}
This document captures the requirements of an app for the Auld Reekie Auction House, codenamed {\it Auctionista}. 


\section{Stakeholders}
We can consider the following stakeholders:
\begin{itemize}
\item {\it Auction House:} the Auction House wants to replace its existing bidding system with a software that will:
  \begin{itemize}
  \item Perform existing in-house functions that the auction house currently manages manually. such taking in new bids.
  \item Open up new features to their clients (bidders, sellers, and the public) so that lots can be viewed, edited, and bid on through an online interface and without being physically present.
  \end{itemize}
\item {\it Auctioneer:} Manages auctions and oversees the bidding process by taking in new bids. They want to be aware of bids as they come in through the platform, and want to notify those involved in the bidding process as things change.
\item {\it Buyer:} Watches and bids on lots under auction. They want to see lots and their associated images, descriptions, and valuations, and want to mark interest for and bid on the lots that they want.
\item {\it Seller:} Brings lots to the auction and lists their starting prices and reserve prices. They want to be able to manage their lots and their images, descriptions, and valuations. They want to be notified about bids on their lots and told of the final prices (hammer and hammer minus seller's commision) of any lots they have sent up for auction.
\item {\it Member of the Public:} Wants to peruse the existing lots. A member of the public without an existing account needs access to seeing lots and possibly their valuations without knowing more important, buyer/seller-only details.
\item {\it Expert:} Helps to evaluate a given lot and guide the process of setting up a lot, especially its valuations. They need access similar to that of a Member of the Public, but with additional abilities to contact the seller and negotiate aspects of a lot.
\item {\it Lot Display Professional:} For lack of a better term, these are the professionals involved in taking photos and writing descriptions of a lot. They are interested in the multimedia capabilities of a lot's listing, as that will affect their process for marketing it and making attractive to potential bidders.
\item {\it App Provider:} The group responsible for maintenance of the hardware and software involved in distributing the app and keeping the app running. These may be in-house professionals for the Auction House or a another contracted agency. They are interested in the simplicity of maintaining and distributing the software and handling its interconnection between other stakeholders.
\end{itemize}
\section{System State}
The system consists of five major state components:
\begin{itemize}
\item {\it Auctions:} A list of auctions is kept which each have a list of associated Lots and a list of associated Auctioneers, as well as a minimum bid increment. Each auction also has a start date and time. If the auction is in progress, it has whatever lot is currently on auction.
\item {\it Auctioneers:} Auctioneers administrate the process of an auction. They keep a list of all auctions they will administrate.
\item {\it Lots:} Lots have an associated seller that sells them and an auction at which they will be auctioned off. A lot also has a high/low estimate, a description, and images. If the lot has multiple items, each lot may come with its own description and images. A reserve price (which will only be visible to the seller) and a list of interested bidders, which have marked their interest before the lot has gone on auction. If the lot is actively on auction or has now been auctioned off, a list of bids is kept along with the final, winning bid.
\item {\it Buyers:} Buyers have personal information, contact details, and bank information. They also have a list of lots which they have marked their interest in. If a lot they have subscribed to is active, they store all bids they have made on the lot with special reference to the last bid they made.
\item {\it Sellers:} Sellers, much like Buyers, have personal information, contact details, and bank information attached. They also keep a list of lots that they currently have registered with the Auction House.
\end{itemize}

\section{Use Cases}
\subsection{Bid on lot}
{\bf Primary actor: } Buyer
\\{\bf Supporting actors: } 
\\{\bf Summary: } Buyer places a bid on a lot and the lot's price is updated as needed. 
\\{\bf Precondition: } The lot is listed on the system. The lot is currently being auctioned (ie. it is not pre-auction and the auction has not already ended).  
\\{\bf Trigger: } Buyer presses button in interface to bid on lot.
\\{\bf Guarantee: } Buyer's bid on lot is recorded, and if appropriate, current bid price of lot is updated. 
\\{\bf Main Success Scenarios: } 
\begin{enumerate}
\item System records bid information in log; this will include the identity of the buyer, whether the bid was an increment or a jump bid, the time the bid was placed, the associated lot, and the new price of the lot. 
\item System updates current bid price on lot and propogates this to all buyers also looking at the lot. 
\item Buyers who are interested in the lot are informed that a new bid has been placed on the lot
\end{enumerate}
  {\bf Extensions: }
\begin{itemize}
\item [2a.] Bid is increment bid of value $i$. System updates the lot's current bid price $c$ to be $c = c + i$.
\item [2b.] Bid is jump bid of value $j$. If $j < f$, with $f$ being the fixed bid increment, we go to 2c. Otherwise we update the lot's current bid price $c = c + f$.
\item [2c.] Bid is insufficient. We display an error message to the buyer informing them that placing a bid has failed and wait for the buyer to bid again. 
\end{itemize}
{\bf Stakeholders and interests: }
\\{\em Buyer} looks to bid on lots they are interested in
\\{\em Seller} looks to sell their lot
\\{\em Auction house} want to assist in selling the lot in order to collect commission
\\{\bf Notes:}
\begin{itemize}
  \item A non-functional requirement associated with this use-case is that the system must be able to handle bids in an ACID-adherent way: more specifically, if two bids are placed at the same time (or within a very small time interval) there must be a way of deciding which is to be treated as having come first. There must therefore be a very small (<1s) latency on bid placement and update of a lot's current bid price. 
\end{itemize}
\subsection{Close lot auction}
{\bf Primary actor: } Auctioneer 
\\{\bf Supporting actors: } Buyer, seller, auction house staff, bank
\\{\bf Summary: } Auctioneer declares auction closed and lot is removed from auction; relevant parties are notified, and appropriate financial transactions are executed
\\{\bf Precondition: } Lot has gone on auction, auctioneer has allowed time for bids to be made
\\{\bf Trigger: } Auctioneer assesses that there are no more bids to be made
\\{\bf Guarantee: } Lot is removed from auction; appropriate parties are notified about change of status; financial transactions are successfully executed if appropriate
\\{\bf Main Success Scenarios: }
\begin{enumerate}
\item Auctioneer closes bidding; no further bids can be made and the lot is removed from auction
\item Hammer price and winning buyer are recorded in system
\item Buyers who are interested in the lot are informed that the lot has been sold
\item Hammer price plus buyer's premium is deducted from winning buyer's account. 
\item Hammer price minus seller's commission is debited to seller's account. 
\end{enumerate}
{\bf Extensions: }
\begin{itemize}
\item [1a.] It may be desirable for the auctioneer to decide the winning buyer, rather than the system, in order to avoid sniping (a bid being placed after the auctioneer has decided the auction is to be closed, but before the auction is actually closed). 
\item [2a.] Hammer price is below reserve price. The lot auction is unsuccessful and we finish the scenario here. The lot is removed from auction and the seller is notified that the lot did not sell.
\item [3a.] It may be desirable for the unsuccessful buyers to be informed also of the winning bidder and price the lot was sold for. 
\item [4a.] Buyer's account cannot be charged.  The system informs auction house staff (eg. through email or an in-app message) that the payment did not go through, and auction house staff attempt to contact the buyer in order to fix payment details. Once this is fixed, the system re-attempts step 5.
\item [4b.] The payment may be taken either by the system directly communicating with the buyer's bank, or through a third-party intermediary
\item [5a.] Seller's account cannot receive payment. The system informs auction house staff (eg. through email or an in-app message) that the payment did not go through, and auction house staff attempt to contact the seller in order to fix payment details. Once this is fixed, the system re-attempts step 6.
\item [5b.] The payment may be taken either by the system directly communicating with the seller's bank, or through a third-party intermediary
\end{itemize}
{\bf Stakeholders and interests: }
\\{\em Winning buyer} wishes to own the lot by paying for it
\\{\em Non-winning buyers} wish to be informed about sale of lot
\\{\em Seller} wishes to sell their lot and gain payment from sale
\\{\em Auction house} wishes to facilitate the sale of the lot in order to collect commission
\subsection{Register buyer}
{\bf Primary actor: } Member of staff at auction house
\\{\bf Supporting actors: } Buyer
\\{\bf Description: } Buyers require an account to register interest in lots and bid on lots. To do this, staff will register a buyer with an account using their personal details. Then, the staff will prompt the buyer to input their banking details. Finally, the staff will prompt the system to confirm that the banking details are legitimate and billable.
\subsection{Note interest in lot}
{\bf Primary actor: } Buyer
\\{\bf Supporting actors: } None
\\{\bf Description: } When a buyer wishes to bid on a lot upon its auction, they must mark their interest in a lot. To do this, they press a button in the interface, on the listing for the lot they are interested in. It will then register them as interested and subsribe their account to future notifications about the lot.
\\{\bf (A)}: It is ambiguous when low and high estimates, as well as bidding figures and seller details, should be shown. When a buyer marks themselves as interested, we may want to reveal this information if it hasn't been revealed already.
\subsection{Add lot listing}
{\bf Primary actor: } Member of staff at auction house
\\{\bf Supporting actors: } Seller
\\{\bf Description: } A seller wishing to list their lot on the auction house app will contact the auction house staff in order to facilitate this. The auction house staff will then assist the seller with uploading to the system the lot, including the following information:
\begin{itemize}
\item Reserve price, to be decided by the seller
\item Lot description, including text and pictures
\item High and low estimate, likely decided by the auction house in conjunction with the seller
\item Bid increment if this is set on a by-lot basis
\end{itemize}

Once this lot addition is approved, the system will place the lot in a state where it can be browsed by buyers and members of the public through the app.

\subsection{Browse lots in auction catalogue}
{\bf Primary actor: } Buyer, member of public
\\{\bf Supporting actors: }
\\{\bf Description: } A buyer or member of the public wishes to view available lots. The system will show the available lots (those which have not been sold yet) with their associated attributes, and perhaps also lots which have already been sold. The system may allow the user to filter by such attributes as auction date, high/low estimate, or seller id. 

The system may show parts of lot information to some but not all users, for example:
\begin{itemize}
  \item Hiding reserve price from all users other than auction house staff and the seller who owns the lot
  \item Hiding high/low estimates from buyers until they indicate interest in the lot
  \item Hiding all information about the lot other than its name and description from members of the public
\end{itemize}
\subsection{Start lot auction}
{\bf Primary actor: } Auctioneer
\\{\bf Supporting actors: } Buyers
\\{\bf Description: } Once the set start time and date of a lot's auction is reached, the lot's auction must begin. This could be triggered:
\begin{enumerate}
\item By the system itself upon the set start time and date being reached. This is desirable if full automation of the lot auction is desired, but this approach may cause problems if the auctioneer is not present to close the auction. 
\item By the auctioneer in the app. This is desirable if delays can be expected in the start-time of the auction (eg. an auction may start late because of previous delays earlier in the day) or if the start time of the auction is specified vaguely. 
\end{enumerate}

The system sets the lot to be in the state of being auctioned, setting the initial price as decided by the auctioneer or the low estimate, and allows buyers to begin to place bids on the item. 
\newpage
\section{Use case diagram}
We note that this use case diagram only includes {\em primary actors} in order to maintain visual clarity. Supporting actors for each use case are enumerated in their respective descriptions above.
\\
\begin{centering}
\begin{tikzpicture}
    \begin{umlsystem}[x=4, y=2, fill=red!10]{Use case diagram for Auctionista} 
    \umlusecase[y=2, width=5em]{Bid on lot}
    \umlusecase[x=4, y=2, width=5em]{Close lot auction}
    \umlusecase[y=6, width=5em]{Register buyer}
    \umlusecase[y=4, width=5em]{Note interest in lot}
    \umlusecase[x=4, width=5em]{Add lot listing}
    \umlusecase[y=0, width=5em]{Browse lots in auction catalogue}
    \umlusecase[x=4, y=4, width=5em]{Start lot auction}
\end{umlsystem} 
 
    \umlactor[x=13, y=8]{Auction house}
    \umlactor[x=13, y=5]{Auctioneer}
    \umlactor[x=-1, y=6]{Buyer}
    \umlactor[x=13, y=2]{Seller}
    \umlactor[x=3, y=-1]{Member of the public}
    \umlactor[x=7, y=-1]{Expert}
    \umlactor[x=10, y=-1]{Lot display professional}

    \umlassoc{Buyer}{usecase-1}
    \umlassoc{Auctioneer}{usecase-2}
    \umlassoc{Auction house}{usecase-3}
    \umlassoc{Buyer}{usecase-3}
    \umlassoc{Buyer}{usecase-4}
    \umlassoc{Lot display professional}{usecase-5}
    \umlassoc{Seller}{usecase-5}
    \umlassoc{Expert}{usecase-5}
    \umlassoc{Buyer}{usecase-6}
    \umlassoc{Member of the public}{usecase-6}
    \umlassoc{Auctioneer}{usecase-7}
    
\end{tikzpicture}
\end{centering}
\newpage
\section{Non-Functional Requirements}
Non-Functional Requirements are categorized into five sections:
\subsection{Security}
\begin{itemize}
\item {\it Bidding Authentication:} The auction process for a lot, and placing bids for a lot, must be resticted to users that have proper authentication as buyers and that have shown interest in the lot before auction. Therefore, the authentication system must be well secured to prevent people who do not meet these requirements from having access. There must be no possibility of a user elevating their access without explicit permission from the auction house.
\item {\it Bank Transactions:} Bank transactions, since they deal with money, are especially sensitive to tampering. Such transactions, as well as the personal data required to make them, must be encrypted and verified beforehand to make sure both eavesdropping and untoward manipulation of the transaction are impossible.
\item {\it Anonymity:} A bidder may want to keep their identity secret in high-profile contexts. In this case, the personal data of a user must be secured so that authentication must be duly provided to access this personal data. Furthermore, a log must exist so that administratie changes can be correctly audited and reverted in the unlikely event of a breach.
\end{itemize}
\subsection{Usability}
\begin{itemize}
\item {\it Internationalisation Support:} Bidders may hail from a variety of countries and backgrounds, and to capture the largest number of potential bidders an auction house must target them through support for their language. This extends to currencies especially - when dealing with large bids, different currencies may be used to pay a single sum. Conversion with these currencies must be exact.
\item {\it Simple Interface:} Since the bidding process is fast-moving and high-value, customers cannot be encumbered by the interface in making their decisions. The interface must be streamlined towards the fundamental functions of auctioning, such as bidding, setting a hammer price, or listing a lot.
\item {\it Multi-Platform Support:} Clients will use a variety of platforms to access the auction house, as will members of the public. Clients that are accessing the platform from afar especially may be on the go and need mobile platform support.
\item {\it Notification Customizability:} Information overload is a serious concern in a fast-moving context such as an active bidding session. Customers must be given only the notifications they need in order to carry out their bids, and auctioneers must only receive the notifications necessary to administrate an auction.
\end{itemize}
\subsection{Performance}
\begin{itemize}
\item {\it Scalability:} As auctions may happen simultaneously, as the auction house may expand to multiple venues, and as the auction house attracts more clients, the system must not become slow or sluggish. The ability to scale but up and down as needed by the business is critical.
\item {\it Low-Latency / Low-Bandwidth:} Customers in transit or from afar will be placing bids. Since the placing of a bid can represent major investment, and the acceptance of a bid affects the outcome of an auction seriously, all bids must be delivered quickly and even over patchy connections. This requires many of the transactions to have little network overhead.
\item {\it Low-Cost Computer Support:} Similar to Multi-Platform Support under the Usability subsection, Clients may be connecting through limited PCs or underpowered mobile devices. The interface to bid must not slow down on such devices. This may involve choosing investing development time into platform-specific optimizations and fixes.
\end{itemize}
\subsection{Reliability}
\begin{itemize}
\item {\it Concurrency Management (ACID):} Transactions, especially bids, will come in asynchronously but must be processed sychronously and durably. Using a database that follows the ACID principles would be strong first step towards making sure that bids processed in the correct order and not made to overlap or interfere with one another.
\item {\it Integration Testing:} Failure in the middle of an auction is not an option. All user scenarios and actions that a user can take would best be adequately tested using some automated testing framework.
\end{itemize}
\subsection{Maintainability}
\begin{itemize}
\item {\it Conceptual Modularization:} In order to speed up training, understanding, and diagnosing the system, the program must be properly split into easily-digested modules that relate to a specific concept or process that is needed. This way, whenever an error occurs, it is self-evident what it causes by where it comes from. Whenever a new feature is needed, it is self-evident where the new feature should go and feature creep can be avoided.
\item {\it Unit Testing:} Often, valuable hours are wasted on chasing errors due to regressions or diagnosing an in-production problem. The hot-fixing of production problems may also gradually introduce more and more cruft into a code-base, making ithard to predict and maintain further down the road. Unit testing is ideal for catching bugs early and keeping regressions out of the code-base on every change.
\end{itemize}

\section{Ambiguities, Subtleties, Incompleteness}
\begin{enumerate}
\item What information about a lot is visible to various users? We can consider lot characteristics like:
  \begin{itemize}
  \item High / low estimates --- this can be useful for both members of the public and buyers to be able to filter lot search by price. However, it may be that a seller may desire this to be hidden from public view like the reserve price. 
  \item Which auction it is being sold in, and the time and date --- it is more desirable for this to be available to buyers, and less so for members of the public. Hiding this information from members of the public would encourage them to sign up as buyers, while it is essential that buyers be able to know when an lot they are interested in is being sold. It might also be possible to hide this at a more granular level, eg. the time/date of an auction associated with a lot is only shown to buyers if they show interest in that item
  \item Seller's commission / buyer's premium by lot if appropriate --- it would make sense to show seller's commission to the seller of a lot only, while buyer's premium may be shown to buyers and optionally members of the public
  \end{itemize}
\item Is the seller's commission, buyer's premium, bid increment:
  \begin{itemize}
  \item Different according to the lot they are associated with?
  \item Set on an auction-level?
  \item Decided by the auction house for all items?
  \end{itemize}
  Either of the three could be reasonable approaches, but would require differing implementations in software, with the third option being the simplest.
\item How do buyers and sellers register with the system? There could be two possible approaches:
  \begin{itemize}
  \item Self-registration through the app
  \item Registration through the auction house - in this case, who in the auction house would perform this operation, and what role would they require in the system to do so?
  \end{itemize}
\item What information is contained in the notification sent to a buyer when a bid is placed on an lot they are interested in? Obvious candidates include the new price of the lot and the time left on the auction; undesireable information may include the identity of the competing bidder
\item Is the bank account information of a user verified through some verification method? If yes:
  \begin{itemize}
  \item What verification method is used? A common method is attempting to withdraw / deposit \pounds 0.01 into the account and confirming the user has received it; other methods may include communicating with the user's bank
  \item At which stage are payment details verified? Options could include:
    \begin{itemize}
    \item At registration --- the natural choice, although this may cause friction in the registration process
    \item When placing a bid --- this is undesireable if the user is blocked from bidding due to a failed verification, because of the time-sensitive nature of auctions
    \item On having won an auction --- in this case, what is done if the account fails verification with the auction over?
    \end{itemize}
  \end{itemize}
\item Are on-site and off-site buyers treated any differently by the system? As a corollary, do off-site sellers exist (eg. those who ship the items to the auction house to be sold), and if yes are they also treated differently to on-site sellers?
\item Do buyers provide contact details as part of their contact information, and if yes:
  \begin{itemize}
  \item Is this information validated? A common method would be to send a confirmation PIN to a provided email or phone
  \item Is it necessary for the auction house staff to be able to contact the buyer after the auction, and if contact information is found to be invalid, how can staff contact the buyer?
  \end{itemize}
\item Is collecting payment and providing the buyer the lot after the auction has been won a fully automatic process, or does it involve participation from a member of staff at the auction house? If yes, does the app need any provisions to be able to support this?
\item Does information about a lot remain in the system after it is sold, either in public view (eg. with a `sold' tag) or on the database? For GDPR purposes it may be preferrable to remove information about a lot either immediately or after a predetermined period of time. If lot information is to be removed, is this process automatically done by the system or is it manually done?
\item Can a person have both a buyer and a seller role --- in order to minimse the amount of information they need to enter when registering, as the two will likely overlap significantly --- or would they need to register separate accounts? If separate accounts are needed, should the app have support for switching between accounts if eg. a person is present at an auction as both a buyer and a seller?
\item Can lot information be amended after it has been added to the system? If yes, should the system have support for this or will it need to be done manually through a member of staff?
\item How does the system handle bank transactions? There are two possible scenarios:
  \begin{itemize}
  \item The system handles transactions itself. This would require a high level of oversight and testing to adhere to regulatory regulations
  \item The system handles transactions through some broker, eg. PayPal. This simplifies the process of creating transactions but will add additional cost and external dependencies on an API. 
  \end{itemize}
\item Are other auction house staff than auctioneers required to have roles within the app? If yes, what roles do they fulfill?
\item Can a lot contain items from multiple sellers? 
\item Does a lot have an overall description, or do the items it is composed of have separate descriptions?
\item Is payment transferred to seller after payment has been received from buyer, or immediately after sale? The latter may introduce problems if the buyer is unable to pay, while the former may produce delays in payment which are undesirable to the seller
\end{enumerate}
\end{document}
